!function e(t,o,n){function r(s,c){if(!o[s]){if(!t[s]){var d="function"==typeof require&&require;if(!c&&d)return d(s,!0);if(i)return i(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var a=o[s]={exports:{}};t[s][0].call(a.exports,function(e){var o=t[s][1][e];return r(o||e)},a,a.exports,e,t,o,n)}return o[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const n=e("./querystring");console.log("INDEX"),console.log(window.location),console.log(document.baseURI),console.log(document.URL),window.onerror=(e=>{console.log("Error",e)}),window.addEventListener("DOMContentLoaded",()=>{const e=n.getURLQueryParams().pub;console.log(" (((( publicationJsonUrl )))) "+e);const t=document.createElement("webview");t.addEventListener("dom-ready",()=>{t.openDevTools()}),t.setAttribute("id","webview1"),t.setAttribute("style","width: 100%; height: 400px;box-sizing: border-box; border: 2px solid black"),t.setAttribute("webpreferences","nodeIntegration=0, nodeIntegrationInWorker=0, sandbox=0, contextIsolation=0, webSecurity=1, allowRunningInsecureContent=0"),document.body.appendChild(t);const o=document.createElement("webview");o.addEventListener("dom-ready",()=>{o.openDevTools(),setTimeout(async()=>{document.body.setAttribute("style","background-color: silver; margin: 0; padding: 0;");const o=document.querySelector("html > body > h1");if(o){o.setAttribute("style","color: green;");try{await fetch(e.replace("/pub/","/pub/*-ZWM0ZjJkYmIzYjE0MDA5NTU1MGM5YWZiYmI2OWI1ZDZmZDllODE0YjlkYTgyZmFkMGIzNGU5ZmNiZTU2ZjFjYg==-*"));const o=await fetch(e);o.ok||console.log("BAD RESPONSE?!"),o.headers.forEach((e,t)=>{console.log(e+" => "+t)});const n=await o.json();console.log(n),n.spine.forEach(o=>{const n=document.createElement("a"),r=e+"/../"+o.href;n.setAttribute("href",r),n.addEventListener("click",e=>{t.setAttribute("src",r),e.preventDefault()}),n.appendChild(document.createTextNode(o.href)),document.body.appendChild(n),document.body.appendChild(document.createElement("br"))})}catch(e){console.log(e)}}},5e3)}),o.setAttribute("id","webview2"),o.setAttribute("style","display: inline-flex; visibilityx: hidden; width: 100%; height: 50px; box-sizing: border-box; border: 2px solid magenta"),o.setAttribute("webpreferences","nodeIntegration=0, nodeIntegrationInWorker=0, sandbox=0, contextIsolation=0, webSecurity=1, allowRunningInsecureContent=0"),o.setAttribute("preload","./preload.js"),document.body.appendChild(o);const r=e+"/../";console.log(r),o.setAttribute("src",r)})},{"./querystring":2}],2:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.getURLQueryParams=(()=>{const e={};let t=window.location.search;return t&&t.length&&(t=t.substring(1)).split("&").forEach(t=>{const o=t.split("=");o.length>1&&(e[o[0]]=decodeURIComponent(o[1]))}),e})},{}]},{},[1]);
//# sourceMappingURL=browserify_bundle.min.js.map