{"version":3,"file":"opds2-collection-json-converter.js","sourceRoot":"","sources":["../../../../../src/opds/opds2/opds2-collection-json-converter.ts"],"names":[],"mappings":";;AAAA,mCAIiB;AAEjB,uDAAoD;AAEpD;IAAA;IA2BA,CAAC;IA1BU,+CAAS,GAAhB,UAAiB,QAAwB;QAGrC,MAAM,CAAC,cAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;IACtC,CAAC;IAEM,iDAAW,GAAlB,UAAmB,KAAgB;QAQ/B,EAAE,CAAC,CAAC,OAAO,KAAK,KAAK,QAAQ,CAAC,CAAC,CAAC;YAC5B,IAAM,CAAC,GAAG,IAAI,iCAAc,EAAE,CAAC;YAC/B,CAAC,CAAC,IAAI,GAAG,KAAe,CAAC;YACzB,MAAM,CAAC,CAAC,CAAC;QACb,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,MAAM,CAAC,cAAM,CAAC,WAAW,CAAiB,KAAK,EAAE,iCAAc,CAAC,CAAC;QACrE,CAAC;IACL,CAAC;IAEM,iEAA2B,GAAlC;QACI,MAAM,CAAC,IAAI,CAAC;IAChB,CAAC;IACL,kCAAC;AAAD,CAAC,AA3BD,IA2BC;AA3BY,kEAA2B","sourcesContent":["import {\r\n    IPropertyConverter,\r\n    JSON as TAJSON,\r\n    JsonValue,\r\n} from \"ta-json\";\r\n\r\nimport { OPDSCollection } from \"./opds2-collection\";\r\n\r\nexport class JsonOPDSCollectionConverter implements IPropertyConverter {\r\n    public serialize(property: OPDSCollection): JsonValue {\r\n        // console.log(\"JsonOPDSCollectionConverter.serialize()\");\r\n\r\n        return TAJSON.serialize(property);\r\n    }\r\n\r\n    public deserialize(value: JsonValue): OPDSCollection {\r\n        // console.log(\"JsonOPDSCollectionConverter.deserialize()\");\r\n\r\n        // if (value instanceof Array) {\r\n        //     return value.map((v) => {\r\n        //         return this.deserialize(v);\r\n        //     }) as OPDSCollection[];\r\n        // } else\r\n        if (typeof value === \"string\") {\r\n            const c = new OPDSCollection();\r\n            c.Name = value as string;\r\n            return c;\r\n        } else {\r\n            return TAJSON.deserialize<OPDSCollection>(value, OPDSCollection);\r\n        }\r\n    }\r\n\r\n    public collapseArrayWithSingleItem(): boolean {\r\n        return true;\r\n    }\r\n}\r\n"]}