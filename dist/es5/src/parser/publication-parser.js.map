{"version":3,"file":"publication-parser.js","sourceRoot":"","sources":["../../../../src/parser/publication-parser.ts"],"names":[],"mappings":";;;AAAA,2BAA6B;AAG7B,mCAA8C;AAC9C,qCAAgD;AAEhD,iCAA8C,QAAgB;;;;YAEpD,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;YACnC,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,WAAW,EAAE,CAAC;YACjD,WAAO,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;oBAC5B,uBAAgB,CAAC,QAAQ,CAAC,CAAC,CAAC;oBAC5B,qBAAe,CAAC,QAAQ,CAAC,EAAC;;;CACjC;AAPD,0DAOC","sourcesContent":["import * as path from \"path\";\r\n\r\nimport { Publication } from \"@models/publication\";\r\nimport { CbzParsePromise } from \"@parser/cbz\";\r\nimport { EpubParsePromise } from \"@parser/epub\";\r\n\r\nexport async function PublicationParsePromise(filePath: string): Promise<Publication> {\r\n\r\n    const fileName = path.basename(filePath);\r\n    const ext = path.extname(fileName).toLowerCase();\r\n    return /\\.epub[3]?$/.test(ext) ?\r\n        EpubParsePromise(filePath) :\r\n        CbzParsePromise(filePath);\r\n}\r\n"]}